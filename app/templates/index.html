<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Stock Price Predictor</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 28L8 20L12 24L16 16L20 22L24 14L28 20" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Stock Predictor AI
                </h1>
                <p class="subtitle">Powered by LSTM Neural Networks</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Input Section -->
            <section class="prediction-form">
                <div class="card">
                    <h2>Get Stock Predictions</h2>
                    <form id="predictionForm">
                        <div class="form-group">
                            <label for="ticker">Stock Ticker Symbol</label>
                            <input
                                type="text"
                                id="ticker"
                                name="ticker"
                                value="AAPL"
                                placeholder="e.g., AAPL, GOOGL, MSFT"
                                required
                                autocomplete="off"
                            >
                            <small>Enter a valid stock ticker symbol</small>
                        </div>

                        <div class="form-group">
                            <label for="days">Prediction Period (Days)</label>
                            <input
                                type="number"
                                id="days"
                                name="days"
                                min="1"
                                max="90"
                                value="30"
                                required
                            >
                            <small>How many days ahead to predict (1-90)</small>
                        </div>

                        <button type="submit" class="btn btn-primary" id="predictBtn">
                            <span class="btn-text">Predict Price</span>
                            <span class="loader" style="display: none;"></span>
                        </button>
                    </form>

                    <!-- Stock Info -->
                    <div id="stockInfo" class="stock-info" style="display: none;">
                        <h3 id="stockName"></h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="label">Sector:</span>
                                <span class="value" id="stockSector"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Industry:</span>
                                <span class="value" id="stockIndustry"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section" id="resultsSection" style="display: none;">
                <!-- Price Summary -->
                <div class="card">
                    <h2>Prediction Summary</h2>
                    <div class="summary-grid">
                        <div class="summary-card">
                            <div class="summary-label">Current Price</div>
                            <div class="summary-value" id="currentPrice">$0.00</div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-label">Predicted Price</div>
                            <div class="summary-value predicted" id="predictedPrice">$0.00</div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-label">Expected Change</div>
                            <div class="summary-value" id="priceChange">$0.00 (0.00%)</div>
                        </div>
                    </div>
                </div>

                <!-- Chart -->
                <div class="card">
                    <h2>Price Prediction Chart</h2>
                    <div class="chart-container">
                        <canvas id="predictionChart"></canvas>
                    </div>
                </div>

                <!-- Disclaimer -->
                <div class="disclaimer">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z" fill="currentColor"/>
                    </svg>
                    <p>
                        <strong>Disclaimer:</strong> This prediction is for educational purposes only.
                        Stock prices are influenced by many unpredictable factors. Do not use these
                        predictions for actual trading or investment decisions without conducting your
                        own research and consulting with financial advisors.
                    </p>
                </div>
            </section>

            <!-- Error Message -->
            <div class="alert alert-error" id="errorAlert" style="display: none;">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <circle cx="10" cy="10" r="9" stroke="currentColor" stroke-width="2"/>
                    <path d="M10 6V11M10 14H10.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span id="errorMessage"></span>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>
                Built with FastAPI, TensorFlow & LSTM Neural Networks
                {% if metadata %}
                | Model trained on {{ metadata.train_date }}
                {% endif %}
            </p>
        </footer>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
